\chapter {Potencia\c{c}\~ao}
\label{Pot}

\section{Restos na potencia\c{c}\~ao}	
\subparagraph{
Ao longo deste cap\'itulo vamos estudar como tornar as opera\c{c}\~oes de potencia\c{c}\~ao e a obten\c{c}ao de seus restos calcal\'aveis de forma simpls e r\'apida. Para isso vamos dispor de algumas artimanhas matem\'aticas, al\'em do famoso \textit{Teorema de Fermat}.
}
\subparagraph{
Vamos começar tentando uma coisa que aparentemente \'e complexa, mas se converter\'a em uma opera\c{c}\~ao bem simples: Calcular o resto da divis\~ao de $10^{135}$ por $7$. Podemos fazer da forma tradicional, mas dividir um n\'umero t\~ao alto n\~ao seria nada pr\'atico.
}
\subparagraph{
O que faremos \'e tomar uma propiedade da multiplica\c{c}\~ao e da potencia\c{c}\~ao emprestadas, a do elemento neutro, nesse caso o $1$. O que faremos \'e calcular em qual pot\^encia $10$ \'e congruente a $1$ no m\'odulo $7$. Logo teremos a tabela:
}
\[
\begin{array}{c}
  \textit{$10^1 \equiv 3(mod7)$} \\  
	\textit{$10^2 \equiv 2(mod7)$}\\
	\textit{$10^3 \equiv 6(mod7)$}\\ 
	\textit{$10^4 \equiv 4(mod7)$}\\ 
	\textit{$10^5 \equiv 5(mod7)$}\\ 
	\textit{$10^6 \equiv 1(mod7)$}\\ 
\end{array}
\]
\subparagraph{
Como sabemos agora que $10^6$ \'e o n\'umero que quer\'iamos, vamos decompor o $135$ em raz\~ao de $6$ e teremos que $135 = (6 \cdot 22)+3$, essa express\~ao nos levar\'a a seguinte congru\^encia:
}
\[
\begin{array}{c}
  \textit{$10^{135} \equiv (10^6)^{22} \cdot 10^3 \equiv (1)^{22} \cdot 10^3 \equiv 10^3 \equiv 6 (mod7)$} \\  
\end{array}
\]
\subparagraph{
Agora n\'os vamos deixar essa opera\c{c}\~ao um pouco mais complexa, ao passo que vamos calcular o resto por $31$ de $2^{124512}$. Vamos pelo mesmos caminho que anteriormente, buscando a pot\^encia de $2$ que \'e congruente a $1$ no m\'odulo $31$. Obtemos:
}
\[
\begin{array}{c}
  \textit{$2^1 \equiv 2(mod31)$} \\  
	\textit{$2^2 \equiv 4(mod31)$}\\
	\textit{$2^3 \equiv 8(mod31)$}\\ 
	\textit{$2^4 \equiv 16(mod31)$}\\ 
	\textit{$2^5 \equiv 1(mod31)$}\\ 
\end{array}
\]
\subparagraph{
Vamos dividir $124512$ por $5$ e obteremos $4016$ com resto $2$, obtendo assim que $2^{124512} \equiv 2^2 \equiv 4 (mod31)$.
}
\subparagraph{
Tornando um pouco mais dif\'icil, podemos calcular o resto de $2^{13}^{98765}$, \'e descobrir o resto de ${13}^{98765}$ por $5$, podemos dizer que ${13}^{98765} \equiv {3}^{98765}(mod 5)$ como se sabe que $3^4 = 81 \equiv 1(mod 5)$, podemos usar isso em nosso favor, pois teremos ${3}^{98765}\equiv {3}^{4\cdot24691 + 1}\equiv 3 (mod 5)$, logo o resultado de ${13}^{98765}$ \'e um n\'umero da forma $5q'+3$.
}
\subparagraph{
Como isso, n\'os podemos dizer que $2^{13}^{98765} \equiv 2^{5q'+3} \equiv 2^{5q'}\cdot{2^3}\equiv {1}^{q'}\cdot{2^3} \equiv 8 (mod 31)$.
}
\section{O teorema de Fermat}
\subparagraph{
	\textit{Teorema de Fermat} - Se $p$ \'e um n\'umero primo e $a$ \'e um inteiro n\~ao divis\'ivel por $p$, ent\~ao:
}
\[
\begin{array}{c}
  \textit{$a^{p-1}\equiv 1(mod p)$} \\  
\end{array}
\]
\subparagraph{
Embora esse seja denominado como o pequeno teorema de Fermat, ele possui suma import\^ancia para o algoritmo RSA cl\'assico. Vamos apresentar abaixo uma de suas demonstra\c{c}\~oes.
}
\subparagraph{
Sabemos que os poss\'iveis res\'iduos no m\'odulo $p$ s\~ao todos os inteiros entre $1$ e $p-1$. Vamos multiplic\'a-los por $a$, obtendo assim: 
}
\[
\begin{array}{c}
  \textit{$a \cdot 1,a \cdot 2,a \cdot 3,...,a \cdot (p-1)$} \\  
\end{array}
\]
\subparagraph{
Vamos levar em conta que $r_1 \equiv a\cdot 1(mod p)$,$r_2 = a\cdot 2(mod p)$, e assim por diante at\'e $r_{p-1} = a\cdot (p-1)(mod p)$. Tomemos par $r_k$ e $r_l$ um par de inteiros $k$ e $l$ que est\'a entre $1$ e $p-1$. Com isso teremos:
}
\[
\begin{array}{c}
  \textit{$a \cdot k \equiv k \equiv l \equiv a\cdot l (mod p)$} \\  
\end{array}
\]
\paragraph{
que equivale \`a:
}
\[
\begin{array}{c}
  \textit{$a \cdot k \equiv a\cdot l (mod p)$} \\  
\end{array}
\]
\subparagraph{
Se viermos a cancelar pela equival\^encia, obteremos que $k \equiv l (mod p)$, mas sendo $k$ e $l$ positivos, inteiros e menores que $p$, estes só podem ser congruentes se forem iguais, logo se:
}
\[
\begin{array}{c}
  \textit{$r_k = r_l$ então $k = l$} \\  
\end{array}
\]
\subparagraph{
Isto demonstra que $r_1, r_2, r_3,...r_{p-1}$ são $p-1$ res\'iduos n\~ao nulos de m\'odulo $p$, que serão $1, 2, 3, ..., p-1$, o que nos permite dizer que a primeira sequência n\~ao \'e nada al\'em de um reordenamento da segunda. Com isso podemos dizer que:
}
\[
\begin{array}{c}
  \textit{$r_1 \cdot r_2 \cdot r_3\cdot...\cdot r_{p-1} = 1 \cdot 2 \cdot 3\cdot ...\cdot p-1$} \\  
\end{array}
\]
\paragraph{
Sabendo disso vemos que:
}
\[
\begin{array}{c}
  \textit{$ a^{p-1}(1 \cdot 2 \cdot 3\cdot ...\cdot p-1) \equiv (1 \cdot 2 \cdot 3\cdot ...\cdot p-1) (mod p)$} \\  
\end{array}
\]
\paragraph{
E apenas cortando os fatores iguais:
}
\[
\begin{array}{c}
  \textit{$ a^{p-1} \equiv 1(mod p)$} \\  
\end{array}
\]
\paragraph{
Provando assim o Teorema de Fermat.
}
\section{Aplicando o teorema de Fermat}
\paragraph{
Antes de prosseguirmos para o pr\'oximo cap\'itulo, vamos utilizar o Teorema de Fermat para resolver uma congru\^encia. Neste caso vamos tentar descobrir quem \'e congruente a $3^{1034}^{2}$ no m\'odulo $1033$. Como $1033$ \'e primo n\'os podemos usar o teorema de Fermat. Neste caso teremos que:
}
\[
\begin{array}{c}
  \textit{$ 3^{1032} \equiv 1 (mod 1033)$} \\  
\end{array}
\]
\subparagraph{
O que faremos agora consiste em ``dividir'' $1034$ por $1032$, de forma a obter o resto da divis\~ao. e com isso vamos veirficar que:
}
\[
\begin{array}{c}
  \textit{$ 1034^2 \equiv 2^2 \equiv 4 (mod 1033)$} \\  
\end{array}
\]
\paragraph{
e com essa simplifica\c{c}\~ao chegamos \`a:
}
\[
\begin{array}{c}
  \textit{$ 3^{1034} \equiv 3^{1032}\cdot q+ 4} \equiv (3^{1032})^{q} + 3^4 (mod 1033)$} \\  
\end{array}
\]
\subparagraph{
Agora com a simples aplica\c{c}\~ao do Teorema de Fermat, podemos chegar a conclus\~ao que: 
}
\[
\begin{array}{c}
  \textit{$ {3^{1034}}^2 \equiv 1 \cdot 81 (mod 1033)$} \\  
\end{array}
\]
\paragraph{
verificando assim que ${3^{1034}}^2$ deixa resto $81$ na divis\~ao por $1033$.
}
\section{Teorema de Fermat para pot\^encias compostas}
\subparagraph{
Embora aplicar o teorema de Fermat diretamente sobre os n\'umeros compostos n\~ao seja poss\'ivel, n\'os ainda podemos resolver a estas congru\^encias com o aux\'ilio do teorema chin\^es d restos, como veremos a seguir.
}
\subparagraph{
Para que possamos entender como resolver este problema com n\'umeros compostos vamos tentar resolver um problema n\'umerico, nesse caso o c\'alculo do m\'odulo de $2^{6754}$ por $1155$.
}
\subparagraph{
Nosso primeiro passo \'e fatorar o $1155$. Ao fim da fatora\c{c}\~ao vamos obter que $1155 = 3 \cdot 5 \cdot 7 \cdot 11$. Em seguida vamos aplicar o teorema de Fermat a cada um dos primos, obtendo assim:
}
\[
\begin{array}{c}
  \textit{$ 2^2 \equiv 1 (mod 3)$} \\  
	\textit{$ 2^4 \equiv 1 (mod 5)$} \\  
	\textit{$ 2^6 \equiv 1 (mod 7)$} \\  
	\textit{$ 2^{10} \equiv 1 (mod 11)$} \\  
\end{array}
\]
\subparagraph{
Agora dividimos $6754$ por $p-1$ para cada um dos m\'ultiplos:
}
\[
\begin{array}{c}
  \textit{$6754 = 2 \cdot 3377 $} \\  
	\textit{$6754 = 4 \cdot 1688 + 2$} \\  
	\textit{$6754 = 6 \cdot 1125 + 4$} \\  
	\textit{$6754 = 10 \cdot 675 + 4$} \\  
\end{array}
\]
\paragraph{
Em seguida substitu\'imos nas congru\^encias e as reduzimos
 }
\[
\begin{array}{c}
  \textit{$2^{6754} \equiv {2^{3377}}^{2} \equiv 1 (mod 3) $} \\  
	\textit{$2^{6754} \equiv {2^{1688}}^{4} \cdot 2^2 \equiv 1 \cdot 4 \equiv  4 (mod 5) $} \\  
	\textit{$2^{6754} \equiv {2^{1125}}^{6} \cdot 2^4 \equiv 1 \cdot 16\equiv  2 (mod 7) $} \\  
	\textit{$2^{6754} \equiv {2^{675}}^{10} \cdot 2^4 \equiv 1 \cdot 16\equiv  5 (mod 11) .$} \\  
\end{array}
\]
\paragraph{
Logo, nossa tarefa consiste em resolver o sistema
 }
\[
\begin{array}{c}
  \textit{$x \equiv 1 (mod 3) $} \\  
	\textit{$x \equiv 4 (mod 5) $} \\  
	\textit{$x \equiv  2 (mod 7) $} \\  
	\textit{$x \equiv  5 (mod 11)$} \\  
\end{array}
\]
\subparagraph{
Podemos resolver esse sistema usando o algoritmo chin\^es, vamos começar substituindo na primeira congruência, onde $x = 3y + 1$, em seguida substitu\'imos $x$ por $y$ na segunda congru\^encia, tornando-a $3y + 1 \equiv 4 (mod 5)$, que equivale a $y \equiv 1 (mod 5)$ 
como $3$ \'e invers\'ivel no m\'odulo $5$ ele pode ser anulado na equação. Com isso temos $x = 4+15z$ que se substiutindo na terceira equa\c{c}\~ao e resolvendo obtemos $z \equiv 5 (mod 7)$, que significa que $x = 79 + 105t$. Finalmente substituindo na \'ultima equa\c{c}\~ao, teremos que $t \equiv 6 (mod 11)$, o que resulta em $x = 709+1155u$. Concluímos com isso que $26754 \equiv 709 (mod 1155)$. 
 }